# ~/.zshrc
# If you come from bash you might have to change your $PATH.
# export PATH=$HOME/bin:/usr/local/bin:$PATH

# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# Set name of the theme to load. Optionally, if you set this to "random"
# it'll load a random theme each time that oh-my-zsh is loaded.
# See https://github.com/robbyrussell/oh-my-zsh/wiki/Themes
ZSH_THEME="robbyrussell"

# Set list of themes to load
# Setting this variable when ZSH_THEME=random
# cause zsh load theme from this variable instead of
# looking in ~/.oh-my-zsh/themes/
# An empty array have no effect
# ZSH_THEME_RANDOM_CANDIDATES=( "robbyrussell" "agnoster" )

# Uncomment the following line to use case-sensitive completion.
# CASE_SENSITIVE="true"

# Uncomment the following line to use hyphen-insensitive completion. Case
# sensitive completion must be off. _ and - will be interchangeable.
# HYPHEN_INSENSITIVE="true"

# Uncomment the following line to disable bi-weekly auto-update checks.
# DISABLE_AUTO_UPDATE="true"

# Uncomment the following line to change how often to auto-update (in days).
# export UPDATE_ZSH_DAYS=13

# Uncomment the following line to disable colors in ls.
# DISABLE_LS_COLORS="true"

# Uncomment the following line to disable auto-setting terminal title.
# DISABLE_AUTO_TITLE="true"

# Uncomment the following line to enable command auto-correction.
# ENABLE_CORRECTION="true"

# Uncomment the following line to display red dots whilst waiting for completion.
# COMPLETION_WAITING_DOTS="true"

# Uncomment the following line if you want to disable marking untracked files
# under VCS as dirty. This makes repository status check for large repositories
# much, much faster.
# DISABLE_UNTRACKED_FILES_DIRTY="true"

# Uncomment the following line if you want to change the command execution time
# stamp shown in the history command output.
# The optional three formats: "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"
HIST_STAMPS="dd/mm/yyyy"

# Would you like to use another custom folder than $ZSH/custom?
# ZSH_CUSTOM=/path/to/new-custom-folder

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(
  git
  zsh-autosuggestions
  zsh-completions
)

# User configuration

# export MANPATH="/usr/local/man:$MANPATH"

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
if [[ -n $SSH_CONNECTION ]]; then
   export EDITOR='nano'
else
   export EDITOR='nano'
fi

# Compilation flags
# export ARCHFLAGS="-arch x86_64"

# ssh
# export SSH_KEY_PATH="~/.ssh/rsa_id"

# Set personal aliases, overriding those provided by oh-my-zsh libs,
# plugins, and themes. Aliases can be placed here, though oh-my-zsh
# users are encouraged to define aliases within the ZSH_CUSTOM folder.
# For a full list of active aliases, run `alias`.


source $ZSH/oh-my-zsh.sh
{ # try

  source ~/.profile
  # sourcing this other files aint working
  # source /etc/profile; \
  # source ~/.bashrc; \
  # source ~/.bash_profile

} || { # catch
  printf "\nsourcing some files failed. \n"
}



# Increase file descriptors.
# Also see; hardstone/templates/file_limits.conf
# The changes in "hardstone/templates/file_limits.conf" should be enough
# but for some reason it didn't work, so we have to use this workaround.
#
ulimit -n 75535

# Append this paths to $PATH
for x ("$HOME/.nvm/bin/" \
       "$HOME/go/bin" \
       "/usr/local/go/bin" \
       "/usr/local/flutter/bin" \
       "/usr/local/sbin" \
       "/usr/local/bin" \
       "/usr/sbin" \
       "/usr/bin" \
       "/sbin:/bin" \
       "/usr/games" \
       "/usr/local/games" \
       "/snap/bin" \
       "/usr/local/lib/python2.7/dist-packages" \
       "/usr/local/lib/python3.5/dist-packages" \
       "/usr/local/lib/python3.6/dist-packages/" \
       "/usr/local/lib/python3.7/dist-packages/" \
       "/usr/lib/dart/bin" \
       "$HOME/.pub-cache/bin" \
       "/usr/local/gradle-5.5/bin"); \
do path+=($x); \
done

# add some exports
export GOPATH=$HOME/go

# java home
export JAVA_HOME="/usr/lib/jvm/zulu-12-amd64"

# export PATH
export PATH

# Do not send telemetry for ET https://eternalterminal.dev
export ET_NO_TELEMETRY="no"

# kraftkit
export KRAFTKIT_NO_CHECK_UPDATES=true
export KRAFTKIT_COLLECT_ANONYMOUS_TELEMETRY=true

###### zsh-autosuggestions config ###### 
# https://github.com/zsh-users/zsh-autosuggestions
ZSH_AUTOSUGGEST_STRATEGY=(history completion)
######################################### 


###################################################################################### OPTIONS ######################################################################################
# Option names are case insensitive and underscores are ignored. For example,`allexport` is equivalent to `A__lleXP_ort`.
# An option name may be inverted by preceding it with `no`, so `setopt No_Beep` is equivalent to `unsetopt beep`.
#
# Docs: https://zsh.sourceforge.io/Doc/Release/Options.html


# 1. Terminal history.
# Have each terminal tab should keep its own history
# https://github.com/robbyrussell/oh-my-zsh/issues/2537
# setopt no_share_history
# unsetopt share_history
#
# This option both imports new commands from the history file, and also causes your typed commands to be appended to the history file.
# If enabled, INC_APPEND_HISTORY should also NOT be enabled.
setopt SHARE_HISTORY
#
# If history needs to be trimmed, expire the ones that have duplicates first.
setopt HIST_EXPIRE_DUPS_FIRST
#
# If a new command line being added to the history list duplicates an older one, the older command is removed from the list.
setopt HIST_IGNORE_ALL_DUPS
#
# When writing out the history file, older commands that duplicate newer ones are omitted.
setopt HIST_SAVE_NO_DUPS

###################################################################################### OPTIONS ######################################################################################

# For improving perfomance, see;
#  https://scottspence.com/posts/speeding-up-my-zsh-shell
#  https://news.ycombinator.com/item?id=44626363
